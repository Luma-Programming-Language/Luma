@module "main"

@use "vector" as vector
@use "io" as io

pub const main -> fn () int {
    let v: Vector = vector::create_vector(sizeof<int>);
    defer { vector::free_vector(&v); }

    loop [i: int = 0](i < 10) : (++i) {
        v.push_back(cast<*void>(&i));
    }

    v.remove_at(5);
    v.remove_at(0);

    let val: int = 40;
    v.push_back(cast<*void>(&val));

    let popped: int;
    v.pop_back(cast<*void>(&popped));
    io::print_int("Popped value: %d\n", [popped]);


    loop [i: int = 0](i < v.size) : (++i) {
        output(cast<*int>(v.data)[i], "\n");
    }

    // let get: int = *cast<*int>(v.get(5));
    // io::print_int("get value (5): %d\n", [get]);

    return 0;
}